<!-- Mensaje de carga -->
<div *ngIf="loading" class="flex justify-center items-center p-8">
  <div class="text-center">
    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
    <p class="mt-2 text-gray-600">Cargando servicios...</p>
  </div>
</div>

<!-- Mensaje de error -->
<div *ngIf="error && !loading" class="no-data-message">
  <div class="no-data-content">
    <span class="material-symbols-outlined no-data-icon">error</span>
    <h3 class="no-data-title">Error al cargar los datos</h3>
    <p class="no-data-subtitle">
      {{ error }}
      <br>Recarga la página y si el error persiste contactar al administrador.
    </p>
  </div>
</div>

<!-- Tabla visible cuando no está cargando ni hay error -->
<vex-generic-table
  *ngIf="!loading && !error"
  [columns]="columns"
  [displayedColumns]="displayedColumns"
  [data]="data"
  [total]="total"
  [currentPageIndex]="pageIndex"
  [initialPageSize]="currentPageSize"
  [initialSort]="currentSort"
  [hasActiveFilters]="hasActiveFilters"
  [onResend]="resendToSalesForce.bind(this)"
  (pageChanged)="loadPage($event.pageIndex, $event.pageSize)"
  (sortChanged)="onSortChange($event)">
</vex-generic-table>

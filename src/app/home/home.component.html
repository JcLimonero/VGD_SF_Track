<vex-page-layout mode="card" class="m-0 p-0">

  <!-- Menu component -->
  <div class="mb-6">
    <vex-menu></vex-menu>
  </div>
  
  <vex-tabs (tabChanged)="onTabChanged($event)"></vex-tabs>
  
  <!-- Contenido de Ordenes (visible por defecto) -->
  <div *ngIf="activeTab === 'orders'">
  <vex-invoice-filter (filterChange)="handleFilter($event)"
              (downloadRequested)="handleDownload()"
              [isDownloadingExcel]="invoiceTable?.isDownloadingExcel || false">
  </vex-invoice-filter>
   <vex-invoice-table #invoiceTable></vex-invoice-table>
  </div>

  <!-- Contenido de Inventario -->
  <div *ngIf="activeTab === 'inventory'">
    <vex-inventory-filter (filterChange)="handleInventoryFilter($event)"
                         (downloadRequested)="handleInventoryDownload()"
                         [isDownloadingExcel]="inventoryTable?.isDownloadingExcel || false">
    </vex-inventory-filter>
    <vex-inventory-table #inventoryTable></vex-inventory-table>
  </div>

  <div *ngIf="activeTab === 'services'">
    <vex-service-filter (filterChange)="handleServiceFilter($event)"
                       (downloadRequested)="handleServiceDownload()"
                       [isDownloadingExcel]="serviceTable?.isDownloadingExcel || false">
    </vex-service-filter>
    <vex-service-table #serviceTable></vex-service-table>
  </div>

  <div *ngIf="activeTab === 'clients'">
    <vex-customer-filter (filterChange)="handleCustomerFilter($event)"
                         (downloadRequested)="handleCustomerDownload()"
                         [isDownloadingExcel]="customerTable?.isDownloadingExcel || false">
    </vex-customer-filter>
    <vex-customer-table #customerTable></vex-customer-table>
  </div>

  <div *ngIf="activeTab === 'dwh'" class="p-8 text-center">
    <h2 class="text-2xl font-bold text-gray-600">Sección de DWH</h2>
    <p class="text-gray-500 mt-4">Funcionalidad próximamente...</p>
  </div>

</vex-page-layout>
